<%
   @o = [(0..9)].map(&:to_a).flatten
   @string = (0...7).map { @o[rand(@o.length)] }.join
%>

<% if @batch.nil?
    @product = Product.find_by(productID: params[:productID])
  else 
    @product = Product.find_by(productID: @batch.productID) %>
<% end %>

<%= simple_form_for(@batch) do |f| %>
<form>
    <div class="form-group row">
      <label for="example-text-input" class="col-2 col-form-label">Product Name</label>
      <div class="col-10">
        <input class="form-control" type="text" value="<%= @product.name %>" id="example-text-input">
      </div>
    </div>
    <div class="form-group row">
      <label for="example-text-input" class="col-2 col-form-label">Batch ID</label>
      <div class="col-10">
         <%= f.input :batchID, label: false, input_html: { class: 'form-control', value: @string }  %>
      </div>
    </div>
    <div class="form-group row">
      <label for="example-text-input" class="col-2 col-form-label">Product ID</label>
      <div class="col-10">
         <%= f.input :productID, label: false, input_html: { class: 'form-control', value: @product.productID }  %>
      </div>
    </div>
    <div class="form-group row">
      <label for="example-number-input" class="col-2 col-form-label">Quantity</label>
      <div class="col-10">
        <%= f.input :quantity, label: false, input_html: { class: 'form-control' }  %>
      </div>
    </div>
    <div class="form-group row">
      <label for="example-date-input" class="col-2 col-form-label">Expiry Date</label>
      <div class="col-10">
        <%= f.input :expiryDate, as: :date, label: false, input_html: { class: 'form-control' } %>
      </div>
    </div>
    
    
    <div class="form-actions">
      <%= f.button :submit, class: 'btn btn-default' %>
    </div>
    <!--<div class="form-actions">-->
      
    <!--</div>-->
</form>
<% end %>